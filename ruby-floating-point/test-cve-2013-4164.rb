#!/usr/bin/env ruby

# Test from http://makandracards.com/railslts/19977-backported-fix-for-heap-overflow-in-floating-point-parsing-cve-2013-4164
#
10.times { ("1."+"1"*300000).to_f }

# If this results in a segfault, you need to update. Results:
=begin
[ruby-1.9.3-p448] (master) 
todb@mazikeen:~/git/junkdrawer
$ irb -r ruby-floating-point/test-cve-2013-4164.rb 
Welcome to IRB. You are using ruby 1.9.3p448 (2013-06-27 revision 41675) [x86_64-linux]. Have fun ;)
Segmentation fault (core dumped)
[ruby-1.9.3-p448] (master) 
=end
